<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>World Holiday Calendar</title>
  <link rel="stylesheet" href="Holiday-Calendar/style.css">

  <script src="https://code.jquery.com/jquery-3.4.1.min.js"
    integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
</head>

<body>
  <h1>
    World Holiday Calendar
  </h1>
  <h2>Select any country from the dropdown menu to see its holidays!</h2>
  <div class="navbar">
    <div class="dropdown">
      <select id="selectCountry">
        <option>Choose a country</option>
      </select>
    </div>
  </div>

  <script>

    var select = document.getElementById("selectCountry");
    // var countryList = [
    //   "Australia",
    //   "China",
    //   "France",
    //   "Japan",
    //   "Norway",
    //   "Peru",
    //   "South Korea",
    //   "Ukraine",
    //   "U.K.",
    //   "U.S.A.",
    // ];
    var countryList = [
        {
          name: "Australia",
          code: "au"
        },
        {
          name: "China",
          code: "cn"
        },
        {
          name: "France",
          code: "fr"
        },
        {
          name: "Japan",
          code: "jp"
        },
        {
          name: "Norway",
          code: "no"
        },
        {
          name: "Peru",
          code: "pe"
        },
        {
          name: "South Korea",
          code: "kr"
        },
        {
          name: "Ukraine",
          code: "ua"
        },
        {
          name: "United Kingdom",
          code: "gb"
        },
        {
          name: "U.S.A.",
          code: "us"
        },

    ];
    for (var i = 0; i < countryList.length; i++) {
      var opt = countryList[i];
      var el = document.createElement("option");
      el.textContent = opt.name;
      el.value = opt.code;
      select.appendChild(el);
    }

    $("#selectCountry").on("change", function () {
      console.log("whatever");
      var option = $(this).val();

      var queryURL = "https://calendarific.com/api/v2/holidays?api_key=567ba202f6afebf1ca7e5f2e1e1baa2e1f479225&country="+ option +"&year=2019";
      // var queryURL = "https://calendarific.com/api/v2/holidays?&api_key=baa9dc110aa712sd3a9fa2a3dwb6c01d4c875950dc32vs&country=US&year=2019"

      // Performing our AJAX GET request
      $.ajax({
        url: queryURL,
        method: "GET"
      }).then(function (data) {
        console.log(data);
      }).catch(function (error) {
        console.log(error);
      })
        ;

    })
  </script>
</body>

</html>